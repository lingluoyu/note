```
java -Djava.rmi.server.hostname=ip地址 -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=连接端口 -Dcom.sun.management.jmxremote.ssl=是否安全连接 -
Dcom.sun.management.jmxremote.authenticate=是否认证 java类
```

* 修改 /etc/hosts 文件将 127.0.0.1 映射至主机名
  如果要认证访问，还需要做如下步骤
  * 复制 jmxremote.password 文件
  * 修改 jmxremote.password 和 jmxremote.access 文件的权限为 600 即文件所有者可读写
  * 连接时填入 controlRole（用户名），R&D（密码）



```java
//暂停当前线程
LockSupport.park();

//恢复某个线程的运行
LockSupport.unpark(暂停线程对象)
```

#### 特点

与 Object 的 wait & notify 相比

* wait,notify和notifyAll必须配合Object Monitor一起使用，而park，unpark不必
* 可先unpark再park

#### 原理

park对象，_counter计数，park由1转0，unpark由0转1

#### 同步模式值之顺序控制

#### volatile

**保证可见性**

写屏障

​	该屏障之前共享变量改动，都同步到主存中

读屏障

​	该屏障之后共享变量读取，都加载主存中数据

**保证有序性**

写屏障会确保指令重排序时，不会将写屏障之前的代码排在写屏障之后

读屏障会确保指令重排序时，不会将读屏障之后的代码排在读屏障之前

**注意无法解决指令交错**

写屏障仅仅是保证之后的读能够读到最新的结果，但不能保证读跑到它前面去
而有序性的保证也只是保证了本线程内相关代码不被重排序

**happens-before**

happens-before 规定了对共享变量的写操作对其它线程的读操作可见



